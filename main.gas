var channel_access_token = ""


// ãƒ¦ãƒ¼ã‚¶ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆåˆ¤å®š(å‹é”è¿½åŠ ã¾ãŸã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸)
function doPost(e) {
  var events = JSON.parse(e.postData.contents).events;
  events.forEach(function(event) {
    if (event.type == "message") {
      sendMessage(event);
    }
    if (event.type == "follow") {
      sendFollowMessage(event);
    }
  });
}
function sendFollowMessage(e) {
  var followMessage = setFollowMessage(e);
  var postData = {
    "replyToken": e.replyToken,
    "messages": followMessage
  };
  var options = {
    "method": "post",
    "headers": {
      "Content-Type": "application/json",
      "Authorization": "Bearer " + channel_access_token
    },
    "payload": JSON.stringify(postData)
  };
  UrlFetchApp.fetch("https://api.line.me/v2/bot/message/reply", options);
}
 
// å‹é”è¿½åŠ ã•ã‚ŒãŸéš›ã«è¿”ã™ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
function setFollowMessage(e) {
  var message = [{
    "type": "text",
    "text": "å‹é”è¿½åŠ ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼"
  }];
  return (message)
}
function sendMessage(e) {
  var message = setMessage(e);
  var postData = {
    "replyToken": e.replyToken,
    "messages": message
  };
  var options = {
    "method": "post",
    "headers": {
      "Content-Type": "application/json",
      "Authorization": "Bearer " + channel_access_token
    },
    "payload": JSON.stringify(postData)
  };
  UrlFetchApp.fetch("https://api.line.me/v2/bot/message/reply", options);
}
 
// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé€ã‚‰ã‚Œã¦ããŸéš›ã«è¿”ã™è¿”ä¿¡ã®æ¡ä»¶åˆ†å²
function setMessage(e) {
  switch (e.message.text) {
    case "ãŠã—ãˆã¦ï¼":
      var message = [
        {
       'type':'flex',ã€€//ã“ã“ã®å®£è¨€ãŒå¿…é ˆ
        'altText':' ã©ã‚“ãªãã‚‚ã¡ã‹ãªï¼Ÿ',
        //â†“ã“ã®contentsã®éƒ¨åˆ†ã«Simulatorã®JSONã‚’ã‚³ãƒ”ãƒ¼
        'contents':{
  "type": "bubble",
  "body": {
    "type": "box",
    "layout": "vertical",
    "contents": [
      {
        "type": "text",
        "text": "ã©ã‚“ãªãã‚‚ã¡ã‹ãªï¼Ÿ",
        "weight": "bold",
        "size": "xl"
      },
      {
        "type": "box",
        "layout": "vertical",
        "margin": "lg",
        "spacing": "sm",
        "contents": [
          {
            "type": "box",
            "layout": "baseline",
            "spacing": "sm",
            "contents": [
              {
                "type": "text",
                "text": "ã„ã¡ã°ã‚“è¿‘ã„ãã‚‚ã¡ã¯ã©ã‚Œï¼Ÿ",
                "wrap": true,
                "color": "#666666",
                "size": "sm",
                "flex": 5
              }
            ]
          }
        ]
      }
    ]
  },
  "footer": {
    "type": "box",
    "layout": "vertical",
    "spacing": "sm",
    "contents": [
      {
        "type": "button",
        "style": "link",
        "height": "sm",
        "action": {
          "type": "message",
          "label": "ã‹ãªã—ã„ğŸ˜¢",
          "text": "ã‹ãªã—ã„ğŸ˜¢"
        }
      },
      {
        "type": "button",
        "style": "link",
        "height": "sm",
        "action": {
          "type": "message",
          "label": "ã“ã‚ã„ğŸ˜¨",
          "text": "ã“ã‚ã„ğŸ˜¨"
        }
      },
      {
        "type": "button",
        "action": {
          "type": "message",
          "label": "ã„ã‚„ã ğŸ˜£",
          "text": "ã„ã‚„ã ğŸ˜£"
        }
      },
      {
        "type": "button",
        "action": {
          "type": "message",
          "label": "ãŠã“ã£ã¦ã‚‹ğŸ˜¤",
          "text": "ãŠã“ã£ã¦ã‚‹ğŸ˜¤"
        }
      },
      {
        "type": "button",
        "action": {
          "type": "message",
          "label": "ã¤ã‹ã‚ŒãŸğŸ˜–",
          "text": "ã¤ã‹ã‚ŒãŸğŸ˜–"
        }
      },
      {
        "type": "button",
        "action": {
          "type": "message",
          "label": "ã¤ã‚‰ã„ğŸ˜­",
          "text": "ã¤ã‚‰ã„ğŸ˜­"
        }
      },
      {
        "type": "button",
        "action": {
          "type": "message",
          "label": "ã‚ã‹ã‚‰ãªã„ğŸ˜“",
          "text": "ã‚ã‹ã‚‰ãªã„ğŸ˜“"
        }
      },
      {
        "type": "spacer",
        "size": "sm"
      }
    ],
    "flex": 0
  }
}
        },
              {
        "type": "text",
        "text": "ã¿ã‚„ã™ã„ã‚ˆã†ã«ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ã¨ã˜ã¦ã­ï¼"
      }
    ];
    
      return(message)
      break;
 
  case "ãŠã—ã¾ã„ï¼":
    var message = [
      {
        "type": "text",
        "text": "ã‚ˆããŒã‚“ã°ã£ãŸã­ğŸ‘"
      }
    ];
    return(message)
    break;
  case "ã²ã¨ã‚„ã™ã¿ã—ãŸã„ï¼":
  case"ã‚ã‹ã‚‰ãªã„ğŸ˜“":
    var message = [
      {
        "type": "text",
        "text": "ã‚†ã£ãã‚Šã¨ãŠã¡ã¤ã„ã¦ã¿ã‚ˆã†ğŸ’¤"
      }
    ];
    return(message)
    break;
  case "Tips":
    var message = [
      {
        "type": "text",
        "text": "ã¨ã¦ã‚‚ç¹Šç´°ãªã®ã§ã€å£èª¿ã‚„é›°å›²æ°—ã§ãƒ‘ãƒ‹ãƒƒã‚¯ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚\nå£°ã‚’è’ã’ãŸã‚Šã›ã‹ã—ãŸã‚Šã™ã‚‹ã¨ä½™è¨ˆã«ã‚ã‹ã‚‰ãªããªã£ã¦ã—ã¾ã„ã¾ã™ã€‚ã„ã£ãŸã‚“è½ã¡ç€ãã¨è©±ã—ã¦ãã‚Œã‚‹å ´åˆã‚‚å¤šã„ã®ã§ã€\nè½ã¡ç€ãã¾ã§ç„¦ã‚‰ãšã«ã‚†ã£ãã‚Šã¨æ™‚é–“ã‚’ã‹ã‘ã¦ã‚ã’ã¦ãã ã•ã„ğŸ’•	"
      }
    ];
    return(message)
    break;    

    default:
    var message = [
      {
        "type": "text",
        "text": "ãã†ãªã‚“ã ã­ğŸ˜‰\nã¾ã‚ã‚Šã®ã²ã¨ã«ã¤ãŸãˆã¦ã¿ã¦ã­ï¼\nã“ã‚Œã‚’ã¿ã›ã¦ã‚‚OKã ã‚ˆï¼"
      }
    ];
    return(message)
    

  case  "ã‹ãªã—ã„ğŸ˜¢":
  case "ã“ã‚ã„ğŸ˜¨":
  case "ã„ã‚„ã ğŸ˜£":
  case "ãŠã“ã£ã¦ã‚‹ğŸ˜¤":
  case "ã¤ã‹ã‚ŒãŸğŸ˜–":
  case "ã¤ã‚‰ã„ğŸ˜­":
        var message = [
        {
        "type": "text",
        "text": "ãã†ãªã‚“ã ã­ğŸ˜‰"
        },
        {
       'type':'flex',//ã“ã“ã®å®£è¨€ãŒå¿…é ˆ
        'altText':'ã©ã‚“ãªã²ã¨ã‚„ã“ã¨ãŒã‹ã‚“ã‘ã„ã—ã¦ã‚‹ï¼Ÿ',
        //â†“ã“ã®contentsã®éƒ¨åˆ†ã«Simulatorã®JSONã‚’ã‚³ãƒ”ãƒ¼
        'contents':{
            "type": "bubble",
  "body": {
    "type": "box",
    "layout": "vertical",
    "contents": [
      {
        "type": "text",
        "text": "ãªã«ãƒ»ã ã‚Œã«ã‹ãªï¼Ÿ",
        "weight": "bold",
        "size": "xl"
      },
      {
        "type": "box",
        "layout": "vertical",
        "margin": "lg",
        "spacing": "sm",
        "contents": [
          {
            "type": "box",
            "layout": "baseline",
            "spacing": "sm",
            "contents": [
              {
                "type": "text",
                "text": "ã©ã‚Œã«ã‹ã‚“ã‘ã„ã—ã¦ã‚‹ï¼Ÿ",
                "wrap": true,
                "color": "#666666",
                "size": "sm",
                "flex": 5
              }
            ]
          }
        ]
      }
    ]
  },
  "footer": {
    "type": "box",
    "layout": "vertical",
    "spacing": "sm",
    "contents": [
      {
        "type": "button",
        "style": "link",
        "height": "sm",
        "action": {
          "type": "message",
          "label": "è‡ªåˆ†ï¼ˆã˜ã¶ã‚“ï¼‰ã®ã“ã¨",
          "text": "è‡ªåˆ†è‡ªèº«"
        }
      },
      {
        "type": "button",
        "style": "link",
        "height": "sm",
        "action": {
          "type": "message",
          "label": "å‹é”ï¼ˆã¨ã‚‚ã ã¡ï¼‰",
          "text": "å‹é”"
        }
      },
      {
        "type": "button",
        "action": {
          "type": "message",
          "label": "å…ˆç”Ÿï¼ˆã›ã‚“ã›ã„ï¼‰",
          "text": "å…ˆç”Ÿ"
        }
      },
      {
        "type": "button",
        "action": {
          "type": "message",
          "label": "è¦ªï¼ˆãƒ‘ãƒ‘ã‚„ãƒãƒï¼‰",
          "text": "è¦ª"
        }
      },
      {
        "type": "button",
        "action": {
          "type": "message",
          "label": "å­¦æ ¡ï¼ˆãŒã£ã“ã†ï¼‰",
          "text": "ãŒã£ã“ã†"
        }
      },
      {
        "type": "button",
        "action": {
          "type": "message",
          "label": "èº«ä½“ï¼ˆã‹ã‚‰ã ï¼‰ã®ã©ã“ã‹",
          "text": "èº«ä½“ã®ã“ã¨"
        }
      },
      {
        "type": "button",
        "action": {
          "type": "message",
          "label": "ã‹ã‚“ã‘ã„ã—ã¦ã‚‹ã“ã¨ã¯ãªã„",
          "text": "ã‹ã‚“ã‘ã„ã—ã¦ã„ã‚‹ã“ã¨ã¯ãªã„"
        }
      },
      {
        "type": "spacer",
        "size": "sm"
      }
    ],
    "flex": 0
  }
}
        }
    ];
    return(message)
    case "è‡ªåˆ†è‡ªèº«":
    case "å‹é”":
    case "å…ˆç”Ÿ":
    case "è¦ª":
    case "å­¦æ ¡":
    case "èº«ä½“ã®ã“ã¨":
    case "ã‹ã‚“ã‘ã„ã—ã¦ã„ã‚‹ã“ã¨ã¯ãªã„":
        var message = [
        {
        "type": "text",
        "text": "ãã†ãªã‚“ã ã­ğŸ˜‰"
        },
        {
       'type':'flex',//ã“ã“ã®å®£è¨€ãŒå¿…é ˆ
        'altText':'ã©ã‚“ãªã²ã¨ã‚„ã“ã¨ãŒã‹ã‚“ã‘ã„ã—ã¦ã‚‹ï¼Ÿ',
        //â†“ã“ã®contentsã®éƒ¨åˆ†ã«Simulatorã®JSONã‚’ã‚³ãƒ”ãƒ¼
        'contents':{
            "type": "bubble",
  "body": {
    "type": "box",
    "layout": "vertical",
    "contents": [
      {
        "type": "text",
        "text": "ã©ã†ã—ãŸã®ã‹ãªï¼Ÿ",
        "weight": "bold",
        "size": "xl"
      },
      {
        "type": "box",
        "layout": "vertical",
        "margin": "lg",
        "spacing": "sm",
        "contents": [
          {
            "type": "box",
            "layout": "baseline",
            "spacing": "sm",
            "contents": [
              {
                "type": "text",
                "text": "ã©ã†ã—ãŸã®ã‹ãªï¼Ÿ",
                "wrap": true,
                "color": "#666666",
                "size": "sm",
                "flex": 5
              }
            ]
          }
        ]
      }
    ]
  },
  "footer": {
    "type": "box",
    "layout": "vertical",
    "spacing": "sm",
    "contents": [
      {
        "type": "button",
        "style": "link",
        "height": "sm",
        "action": {
          "type": "message",
          "label": "ã„ã‚„ãªã“ã¨ã‚’ã„ã‚ã‚ŒãŸãƒ»ã•ã‚ŒãŸ",
          "text": "å«Œãªã“ã¨ã‚’è¨€ã‚ã‚ŒãŸãƒ»ã•ã‚ŒãŸ"
        }
      },
      {
        "type": "button",
        "style": "link",
        "height": "sm",
        "action": {
          "type": "message",
          "label": "ã‚„ã‚ŠãŸããªã„ãƒ»ã„ããŸããªã„",
          "text": "ã‚„ã‚ŠãŸããªã„ãƒ»ã„ããŸããªã„"
        }
      },
      {
        "type": "button",
        "action": {
          "type": "message",
          "label": "ã†ã‚‹ã•ã„",
          "text": "ã†ã‚‹ã•ã„"
        }
      },
      {
        "type": "button",
        "action": {
          "type": "message",
          "label": "ã‚€ãšã‹ã—ã„",
          "text": "ã‚€ãšã‹ã—ã„"
        }
      },
      {
        "type": "button",
        "action": {
          "type": "message",
          "label": "ãã‚ã„ãŒã‚ã‚‹ã„ãƒ»ã©ã“ã‹ãŒã„ãŸã„",
          "text": "å…·åˆãŒæ‚ªã„ãƒ»ã©ã“ã‹ç—›ã„"
        }
      },
      {
        "type": "button",
        "action": {
          "type": "message",
          "label": "ã‚„ã™ã¿ãŸã„",
          "text": "ä¼‘ã¿ãŸã„"
        }
      },
      {
        "type": "button",
        "action": {
          "type": "message",
          "label": "ã‹ã‚“ã‘ã„ã—ã¦ã‚‹ã“ã¨ã¯ãªã„",
          "text": "ã‚„ã‚ŠãŸã„ãƒ»ã»ã—ã„"
        }
      },
      {
        "type": "text",
        "text": "ãŠã‚ã£ãŸã‚‰ã€\"ãŠã—ã¾ã„\"ã‚’ãŠãã†ï¼",
        "position": "relative",
        "align": "center",
        "color": "#f5587b"
      },      
      {
        "type": "spacer",
        "size": "sm"
      }
    ],
    "flex": 0
  }
}      }
    ];
    return(message)
    break;  
  }
}